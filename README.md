### Верстак-Контест - v.0.1
**Исправления:**

**28.12.2022**

- Исправлено не корректное сравнение ответов, при наличии в ответе лишнего пробела. Добавил избавление от пробелов опционально (включено по умолчанию). Для возврата к точному сравнению установить в settings.ру опцию CLEAN_SPACES = False

#### Локальное тестирование задач ЯндексКонтеста.

Цель "Верстака" предоставить локальный инструмент для тестирования задач Контеста. Позволяет сразу использовать данные из примеров к задаче, а при отладке добавлять отдельные более сложные тесты. Удобен тем, что входные данные и ответы заносятся в единый файл, без необходимости разносить их вручную или создавать множество тестовых файлов. Теоретически можно использовать и в других проектах, где указаны входные данные и ожидаемый ответ.

> Работа программы протестирована на финальных заданиях для спринтов 11-12 ЯндексПрактикума, а также на случайной выборке задач из ЯндексКонтеста. На спринтах 13-14 пока не проверял. К тому же, так как логика построена на основе моих решений и требованиях моего ревьювера, возможны сюрпризы и ошибки у других студентов с другим подходом. Если кто-то столкнется с неправильной работой тестов, буду благодарен за подробности, чтобы подумать над улучшением и исправлением.

**Как использовать:**
- Скачать репозиторий
- Заполнить данные для тестов в data.txt
- Написать код решения задачи в bench.ру
- Запустить выполнение test.ру для проверки

**Основные файлы программы:**
```
bench.py - файл для кода с решением
test.py - файл для запуска тестов
data.txt - входные данные и ответы
settings.py - служебные настройки
```
**Описание работы:**
>**bench.pу:**
Основной рабочий верстак. Здесь нужно писать код решения задачи в том виде, в котором он будет отправляться на ревью или в Контест для окончательного результата. По умолчанию программа исходит из условия, что исполняемые функции должны быть спрятаны в блок if _ _name_ _ == "_ _main_ _".

--

>**test.pу:**
Файл с единственной функцией для запуска тестов. Вынесен отдельно от всего кода для избежания случайных правок в основном теле программы.

--

>**data.txt:**
Файл с данными. Важно правильно настроить **data.txt** перед началом работы. Входные данные должны идти на следующей строке после ключевого маркера **"in"**, ожидаемый ответ после маркера **"out"**. Ответ "out" должен быть всегда после соответсвующего Ввода "in". Допускается вставка данных сразу для множества тестов, но порядок "in -> out" должен соблюдаться. Пустые строки разрешены.

**Пример заполнения data.txt (задача "Калькулятор"):**
```
in
2 1 + 3 *

out
9

in
7 2 + 4 * 2 +
out
38
```
**Пример заполнения data.txt (задача "Дек"):**
```
in
4
4
push_front 861
push_front -819
pop_back
pop_back

out
861
-819
```
--
>**settings.pу:**
Возможно заменить маркеры "in" и "out" в случае, если эти сочетания используются в задаче как часть ввода или ответа. Для этого нужно указать иные маркеры в settings.pу и использовать их в data.txt соответсвтенно.

> Вывод результата тестирования может осуществляться в полном или сокращенном виде. Настройка  производится изменением значения ASSERTIONS_SHORT_FORMAT на False или True.

Пример успешного результата тестов:
```
TEST 1: ОК!
TEST 2: ОК!
TEST 3: ОК!
```

Пример сжатого результата тестов с ошибками:
```
ТЕСТ 1: ОШИБКА! Получены строки: ['2'] // Правильно: ['3']
ТЕСТ 2: ОШИБКА! Получены строки: ['1'] // Правильно: ['2']
ТЕСТ 3: ОШИБКА! Получены строки: ['0'] // Правильно: ['1']
```

Пример полного результата тестов:
```
ТЕСТ 1: ОШИБКА!
Входные данные:
([{}])

Вывод программы:
False

Правильный ответ:
True
--------------------
ТЕСТ 2: ОК!
```

##### Желательные доработки:
- Добавить автоматическое правильное заполнение данных в data.txt
- Добавить возможность запуска не только из раздела "if name =="
- Проставить кодировку при открытии файлов
- Избавиться от "костылей"-маркеров типа "&&&"
- Разделить служебные и основные функции, упорядочить структуру

---
###### Технология: Python 3.8.10
###### Разработчик: [Сергей Журавлев](https://github.com/geocrane)
